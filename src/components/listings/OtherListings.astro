---
import ListingsCarousel from './ListingsCarousel.jsx';

const { listings, host } = Astro.props;
---

{listings && listings.length > 0 && (
  <section class="other-listings-section">
    <div class="container">
      <h2 class="section-title">Другие домики от {host.name}</h2>
      
      {/* 
        Просто вставляем наш React-компонент как клиентский остров.
        Он сам сделает всю работу.
      */}
      <ListingsCarousel listings={listings} client:visible />

    </div>
  </section>
)}

<style>
  /* Общие стили секции */
  .other-listings-section {
    padding: 4rem 0;
    border-top: 1px solid #e0e0e0;
    margin-top: 3rem;
  }
  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1.5rem; /* Возвращаем стандартный padding */
    position: relative;
  }
  .section-title {
    font-size: 1.8rem;
    color: #2C3E3A;
    margin-bottom: 2rem;
  }

  /* 
    Astro по умолчанию не растягивает слайды по высоте,
    это правило остается важным.
  */
  :global(.swiper-slide) {
    height: auto;
  }
  
  /* 
    --- ГЛАВНЫЙ ФИКС ---
    Применяем padding непосредственно к контейнеру Swiper, как вы и предложили.
    Это даст пространство для отрисовки теней.
  */
  :global(.other-listings-swiper) {
    padding-top: 1rem;
    padding-bottom: 1rem;
  }


  @media (max-width: 768px) {
    .container { padding: 0; }
    .other-listings-section { padding-left: 1rem; } 
    .section-title { padding-left: 0; }
    /* Добавляем отступ справа для последнего видимого слайда */
    :global(.other-listings-swiper) { 
      padding-right: 1rem;
    }
  }
</style>