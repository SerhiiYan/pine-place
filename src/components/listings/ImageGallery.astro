---
// Этот компонент ожидает массив images
const { images } = Astro.props;
if (!images || images.length === 0) return null;

const mainImage = images[0];
const otherImages = images.slice(1, 5); 
---

<div class="gallery-collage">
  <div class="main-image">
    <img src={mainImage} alt="Главное фото объекта" />
  </div>
  {otherImages.map((image, index) => (
    <div class={`side-image-${index + 1}`}>
      <img src={image} alt={`Фото объекта ${index + 2}`} />
    </div>
  ))}
  {/* В будущем здесь будет кнопка "Показать все фото" */}
</div>

<style>
  .gallery-collage {
    display: grid;
    gap: 0.5rem;
    border-radius: 16px; /* Сделаем скругление чуть больше */
    overflow: hidden;
    height: 500px;
    
    grid-template-areas:
      "main side-1 side-2"
      "main side-3 side-4";
    
    grid-template-columns: 2fr 1fr 1fr;
  }

  .main-image { grid-area: main; }
  .side-image-1 { grid-area: side-1; }
  .side-image-2 { grid-area: side-2; }
  .side-image-3 { grid-area: side-3; }
  .side-image-4 { grid-area: side-4; }

  .gallery-collage > div {
    width: 100%; height: 100%; overflow: hidden;
  }
  .gallery-collage img {
    width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;
  }
  .gallery-collage img:hover {
    transform: scale(1.05);
  }
</style>